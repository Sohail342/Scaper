<!-- Navigation Component for Indus University LMS Portal -->
<nav class="bg-blue-700 text-white shadow-lg">
    <div class="container mx-auto px-4 py-3">
        <!-- Mobile Navigation Toggle -->
        <div class="flex items-center justify-between md:hidden">
            <div class="flex items-center space-x-2">
                <img src="https://via.placeholder.com/40" alt="Logo" class="h-10 w-10 rounded-full">
                <h1 class="text-xl font-bold">Indus University LMS</h1>
            </div>
            <button id="mobileMenuBtn" class="p-2 rounded-full hover:bg-blue-600">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <img src="https://via.placeholder.com/40" alt="Logo" class="h-10 w-10 rounded-full">
                <h1 class="text-xl font-bold">Indus University LMS</h1>
            </div>
            <div class="flex items-center space-x-4">
                <a href="/dashboard?session={{ session_id }}" class="p-2 rounded hover:bg-blue-600">
                    <i class="fas fa-home mr-1"></i> Dashboard
                </a>
                <a href="/profile?session={{ session_id }}" class="p-2 rounded hover:bg-blue-600">
                    <i class="fas fa-user mr-1"></i> Profile
                </a>
                <div class="relative">
                    <button id="notificationBtn" class="p-2 rounded-full hover:bg-blue-600">
                        <i class="fas fa-bell"></i>
                        <span class="absolute top-0 right-0 h-4 w-4 bg-red-500 rounded-full text-xs flex items-center justify-center">3</span>
                    </button>
                </div>
                <div class="relative">
                    <button id="userMenuBtn" class="flex items-center space-x-2 p-2 rounded-full hover:bg-blue-600">
                        <img src="https://via.placeholder.com/30" alt="User" class="h-6 w-6 rounded-full">
                        <span>{{ profile_data.student_id if profile_data and profile_data.student_id else 'Student' }}</span>
                        <i class="fas fa-chevron-down text-xs"></i>
                    </button>
                    <div id="userMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10">
                        <a href="/profile?session={{ session_id }}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Profile</a>
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Settings</a>
                        <a href="/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Logout</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobileMenu" class="hidden md:hidden mt-3 pb-3">
            <div class="flex flex-col space-y-2">
                <a href="/dashboard?session={{ session_id }}" class="p-2 rounded hover:bg-blue-600">
                    <i class="fas fa-home mr-1"></i> Dashboard
                </a>
                <a href="/profile?session={{ session_id }}" class="p-2 rounded hover:bg-blue-600">
                    <i class="fas fa-user mr-1"></i> Profile
                </a>
                <a href="#" class="p-2 rounded hover:bg-blue-600">
                    <i class="fas fa-bell mr-1"></i> Notifications <span class="bg-red-500 rounded-full px-2 text-xs ml-1">3</span>
                </a>
                <a href="/" class="p-2 rounded hover:bg-blue-600">
                    <i class="fas fa-sign-out-alt mr-1"></i> Logout
                </a>
            </div>
        </div>
    </div>
</nav>

<script>
    // Toggle mobile menu
    document.getElementById('mobileMenuBtn')?.addEventListener('click', function() {
        const mobileMenu = document.getElementById('mobileMenu');
        mobileMenu.classList.toggle('hidden');
    });

    // Toggle user menu
    document.getElementById('userMenuBtn')?.addEventListener('click', function() {
        const userMenu = document.getElementById('userMenu');
        userMenu.classList.toggle('hidden');
    });

    // Close menus when clicking outside
    document.addEventListener('click', function(event) {
        const userMenuBtn = document.getElementById('userMenuBtn');
        const userMenu = document.getElementById('userMenu');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');

        if (userMenuBtn && userMenu && !userMenuBtn.contains(event.target) && !userMenu.contains(event.target)) {
            userMenu.classList.add('hidden');
        }

        if (mobileMenuBtn && mobileMenu && !mobileMenuBtn.contains(event.target) && !mobileMenu.contains(event.target)) {
            mobileMenu.classList.add('hidden');
        }
    });
</script>